# よくある質問-セキュリティ編
ときおり、セキュリティに関する質問シートをいただくことがあります。シートの形は様々ですが、その中でも良く聞かれる事項をまとめました。

## 物理的な質問
実際に稼働しているサーバに関するお問い合わせについてまとめています。

### Q:データセンターは国内にありますか？
いいえ。データセンターは米国にあります。保存されるデータは、バックアップを含めてすべて米国の複数の拠点（マルチリージョン）に保管されています

### データセンターは安全ですか?
はい。安全です。[Firebase公式サイト](https://firebase.google.com/terms/data-processing-terms?hl=ja#1.-data-center-and-network-security)にデータセンタに関する記載があります。（リンク先は英語表記です）以下、内容を抜粋します
>**インフラストラクチャ**
>
>Googleは地理的に分散したデータセンターを維持しています。Googleは、すべての運用データを物理的に安全なデータセンターに保存します。
>
>**冗長性**
>
>インフラストラクチャシステムは、単一障害点を排除し、予想される環境リスクの影響を最小限に抑えるように設計されています。
>二重回路、スイッチ、ネットワーク、またはその他の必要なデバイスは、この冗長性を提供するのに役立ちます。
>本サービスは、Googleが特定の種類の予防および修正メンテナンスを中断することなく実行できるように設計されています。
>すべての環境機器および環境には、製造元または内部仕様に従ってパフォーマンスのプロセスと頻度を詳述する予防保守手順が文書化されています。
>データセンター機器の予防的および修正的なメンテナンスは、文書化された手順に従って、標準の変更プロセスを通じてスケジュールされます。
>
>
>**電力**
>
>データセンターの電力システムは、1日24時間、週7日間、継続的な運用に影響を与えることなく、冗長性と保守性を備えた設計になっています。
>ほとんどの場合、データセンター内の重要なインフラストラクチャコンポーネントに対して、それぞれ同じ容量のプライマリ電源と代替電源が提供されます。
>バックアップ電源は、無停電電源装置（UPS）バッテリーなどのさまざまなメカニズムによって提供されます。
>UPSバッテリーは、ユーティリティの電圧低下、停電、過電圧、不足電圧、および許容範囲外の周波数条件で一貫して信頼できる電源保護を提供します。
>商用電源が中断された場合、バックアップ電源は、ディーゼル発電機システムが引き継ぐまで最大10分間、データセンターに最大電力で一時的な電力を供給するように設計されています。
>
>**サーバーオペレーティングシステム**
>
>Googleサーバーは、アプリケーション環境向けにカスタマイズされたLinuxベースの実装を使用します。
>データは、独自のアルゴリズムを使用して保存され、データのセキュリティと冗長性を強化します。
>Googleでは、コードレビュープロセスを採用して、サービスの提供と運用環境でのセキュリティ製品の強化に使用されるコードのセキュリティを強化しています。
>ビジネス継続性。Googleはデータを複数のシステムに複製して、偶発的な破壊や損失から保護します。Googleは、事業継続計画/災害復旧プログラムを設計し、定期的に計画およびテストしています。

### ハードウェアの限界(メモリやCPU、ストレージ）の限界に対する対策は行われますか?
はい。柔軟に拡張が行われます。
Firebaseはオートスケーリングのため、負荷が増えれば自動でCPUの速度が上がったり、データの保存量が増えれば自動で保存容量が拡張されます。

これを手動で管理する必要はありません。全部自動です。
Google(Firebase利用料)からの請求書の金額が増額するだけです・・・。だからお客様はNipoのサーバの限界を考える必要は一切ありません。
::: tip
専用サーバでも、AWS EC2やGCEのような仮想サーバなら容量追加とか簡単にできます。
実際にサーバを購入して運営する場合はこのリスクが高まります。社内サーバなどでよくあるトラブルですね。
:::

### サーバの脆弱性に関するガイドラインや対策はマニュアル化されていますか？
サーバレスのため管理はすべてFirebaseにまかせています。

自社でサーバの管理が無いからこそ「サーバレス」と呼ばれます。サーバに発見されたセキュリティリスクはFirebaseが修正を行うため、安心です。

専用サーバで運営していたら、こうはいきません。直近では、２０１８年１２月３１日にPHP5.6のサポートがきれ、PHP7シリーズに切り替えが推奨されていますが、いまだにPHP5.6（ひどいところはさらに古いバージョンも）を利用し続けているサーバが非常にたくさんあります。Windows XPのサポートが切れても使い続けるという個人ユースのレベルではなく、サーバの世界で日常的にこのようなずさんな管理が横行しているのが現状です。

### ネットワークの回線と伝送は安全ですか?
はい。安全です。[Firebase公式サイト](https://firebase.google.com/terms/data-processing-terms?hl=ja#1.-data-center-and-network-security)にデータセンタに関する記載があります。（リンク先は英語表記です）以下、内容を抜粋します
>**データ送信**
>
>データセンターは通常、高速プライベートリンクを介して接続され、データセンター間で安全で高速なデータ転送を提供します。これは、電子的な転送や転送中、またはデータストレージメディアへの記録中に、許可なくデータが読み取られたり、コピーされたり、変更されたり、削除されたりしないように設計されています。Googleはインターネット標準プロトコルを介してデータを転送します。
>外部攻撃面。Googleは、外部の攻撃対象領域を保護するために、複数層のネットワークデバイスと侵入検知を採用しています。Googleは、潜在的な攻撃ベクトルを考慮し、適切な目的で構築されたテクノロジーを外部向けシステムに組み込みます。
>
>**侵入検知**
>
>侵入検知は、進行中の攻撃活動に対する洞察を提供し、インシデントに対応するための適切な情報を提供することを目的としています。Googleの侵入検知には以下が含まれます。
>予防策により、Googleの攻撃対象領域のサイズと構成を厳密に制御します。
>データエントリポイントでインテリジェントな検出制御を使用します。そして
>特定の危険な状況を自動的に改善するテクノロジーを採用しています。
>
>**インシデントレスポンス**
>
>Googleはセキュリティインシデントについてさまざまな通信チャネルを監視し、Googleのセキュリティ担当者は既知のインシデントに迅速に対応します。
>
>**暗号化テクノロジー**
>
>GoogleはHTTPS暗号化（SSLまたはTLS接続とも呼ばれます）を利用可能にします。Googleサーバーは、RSAとECDSAで署名された一時的な楕円曲線Diffie-Hellman暗号キー交換をサポートしています。これらのPFS（Perfect Forward Secrecy）メソッドは、トラフィックを保護し、侵害されたキーまたは暗号化の突破の影響を最小限に抑えるのに役立ちます。

### マルチテナント型（同じサーバに複数のクライアントを格納）ですか?
はい。Nipoはすべてのお客様のデータを同一のサーバに格納しております。おそらく多くのクラウドシステムは同様の仕組みを採用しているはずです。
各お客様のデータは物理的には一緒のストレージですが、堅牢なアクセス制御により論理的に分離されております。

## データの保存状況に関する質問
どのように保存されているのか？といったお問い合わせが寄せられます

### データのバックアップは行われますか?
はい。バックアップは自動で毎日取得され安全なストレージ（米国内）に保存されます。最大で10日分のデータが取得されます。
取得されたバックアップはイメージバックアップのため、全てのお客様を一緒くたにひっくるめてバックアップされます。個別によるバックアップの取得は行われません。
バックアップはイメージバックアップのため、個別的な理由で復元することは仕組み上、できません。復元は致命的な障害が発生した場合の備えであり、復元するときはすべてのお客様全員を対象とした処理が行われます。

### データは暗号化されて保存されていますか?
はい。すべてのデータは暗号化されて保存されます。通信回線も暗号化（Https)されて送受信されています

## ITリテラシーに関する質問
Nipo開発会社自体に対する質問をまとめました。最大のリスクは開発者が１名しか居ないことです。私が事故や病気で亡くなった場合Nipoは終わります。

### 従業員のITリテラシーの教育などは行っておりますか？
いいえ。Nipoの開発は役員（１名）のみであり、従業員はいません。教育ではなく自己練磨を行っております。日々セキュリティに関する情報を自ら仕入れ、安全性を確保するよう努めております。

### 従業員による情報の流出などについての罰則や、就業規則はありますか？
いいえ。ありません。前述の通り、開発は１名であり会社として明確なルールは定めておりません。ただし今後従業員が増える場合には、就業規則を始めとして様々な準備をします

### 開発者のマスターパスワードは定期的に変更されていますか？
いいえ。パスワードを定期的に変更していません。パスワードの定期的な変更は一昔前の常識です。[定期的なパスワードの変更は現在、推奨されていません](https://www.nikkei.com/article/DGXMZO28578370W8A320C1CC1000/)。（日経新聞記事）これは日本の総務省も推進しています。
関連記事：[総務省指針「パスワードの定期変更は不要」リスクよもやま](https://www.sp-network.co.jp/column-report/column/spneye/candr20027.html)
驚くことに未だにこのような問い合わせをもらうことがあります。時代に即した設問に置き換えることを推奨します


### 開発者の端末はセキュリティ対策ソフトが導入されていますか?
はい。開発用実機にはWindows 10 Home Editionと、Mac Book Pro 2016 (OSXは常に最新)を利用しておりますが、双方に[ESETウイルス対策ソフト](https://eset-info.canon-its.jp/)を導入しています。
[ウォッチガード](https://www.watchguard.co.jp/)などのいわゆるUTMは利用しておりません。

### 開発に利用する端末は施錠できるロッカーに保存されていますか?または盗難防止用チェーンなどの対策は取られていますか？
いいえ。残念ながら開発用実機に盗難防止の対策は施されておりません。代わりという訳では有りませんが、MacBook Pro 2016については[Firebolt](https://support.apple.com/ja-jp/HT204837)を利用してディスク全体を暗号化しております。Windowsについては据え置き型のデスクトップのため、盗難対策は行われておりません。

また、Nipoに関するソースコードはクラウドストレージ上([GitHub](https://github.com/))に保存されていますので、万が一開発用実機が破損しても開発、メンテナンスは継続して行うことが可能です。

### 守秘義務契約を結ぶことは可能ですか?
基本的にお客様と個別の契約は結んでおりませんが、要望があれば対応を検討いたします。守秘義務とは別ですが、Nipoを利用する際は[利用規約](/rule/agree)に同意いただく必要があります。






